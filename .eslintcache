[{"C:\\Users\\gupta\\OneDrive\\Documents\\work\\react-form\\client\\src\\index.js":"1","C:\\Users\\gupta\\OneDrive\\Documents\\work\\react-form\\client\\src\\App.js":"2","C:\\Users\\gupta\\OneDrive\\Documents\\work\\react-form\\client\\src\\protectedRoutes\\route.js":"3","C:\\Users\\gupta\\OneDrive\\Documents\\work\\react-form\\client\\src\\context\\route.js":"4","C:\\Users\\gupta\\OneDrive\\Documents\\work\\react-form\\client\\src\\context\\auth.js":"5","C:\\Users\\gupta\\OneDrive\\Documents\\work\\react-form\\client\\src\\components\\ReusableForm\\ReusableForm.js":"6","C:\\Users\\gupta\\OneDrive\\Documents\\work\\react-form\\client\\src\\components\\UsersTable\\UsersTable.js":"7","C:\\Users\\gupta\\OneDrive\\Documents\\work\\react-form\\client\\src\\components\\Navbar\\Navbar.js":"8","C:\\Users\\gupta\\OneDrive\\Documents\\work\\react-form\\client\\src\\components\\Login\\Login.js":"9","C:\\Users\\gupta\\OneDrive\\Documents\\work\\react-form\\client\\src\\api\\api.js":"10"},{"size":220,"mtime":1609514119750,"results":"11","hashOfConfig":"12"},{"size":1558,"mtime":1609692730504,"results":"13","hashOfConfig":"12"},{"size":745,"mtime":1609688321357,"results":"14","hashOfConfig":"12"},{"size":171,"mtime":1609678531855,"results":"15","hashOfConfig":"12"},{"size":166,"mtime":1609531464199,"results":"16","hashOfConfig":"12"},{"size":2823,"mtime":1609702709484,"results":"17","hashOfConfig":"12"},{"size":1534,"mtime":1609695411958,"results":"18","hashOfConfig":"12"},{"size":1630,"mtime":1609697147973,"results":"19","hashOfConfig":"12"},{"size":3551,"mtime":1609702994208,"results":"20","hashOfConfig":"12"},{"size":633,"mtime":1609702699080,"results":"21","hashOfConfig":"12"},{"filePath":"22","messages":"23","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},"1739rug",{"filePath":"25","messages":"26","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},{"filePath":"27","messages":"28","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},{"filePath":"29","messages":"30","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},{"filePath":"31","messages":"32","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},{"filePath":"33","messages":"34","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},{"filePath":"35","messages":"36","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},{"filePath":"37","messages":"38","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},{"filePath":"39","messages":"40","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"41","usedDeprecatedRules":"24"},{"filePath":"42","messages":"43","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\Users\\gupta\\OneDrive\\Documents\\work\\react-form\\client\\src\\index.js",[],["44","45"],"C:\\Users\\gupta\\OneDrive\\Documents\\work\\react-form\\client\\src\\App.js",[],"C:\\Users\\gupta\\OneDrive\\Documents\\work\\react-form\\client\\src\\protectedRoutes\\route.js",[],"C:\\Users\\gupta\\OneDrive\\Documents\\work\\react-form\\client\\src\\context\\route.js",[],"C:\\Users\\gupta\\OneDrive\\Documents\\work\\react-form\\client\\src\\context\\auth.js",[],"C:\\Users\\gupta\\OneDrive\\Documents\\work\\react-form\\client\\src\\components\\ReusableForm\\ReusableForm.js",[],"C:\\Users\\gupta\\OneDrive\\Documents\\work\\react-form\\client\\src\\components\\UsersTable\\UsersTable.js",[],"C:\\Users\\gupta\\OneDrive\\Documents\\work\\react-form\\client\\src\\components\\Navbar\\Navbar.js",[],"C:\\Users\\gupta\\OneDrive\\Documents\\work\\react-form\\client\\src\\components\\Login\\Login.js",["46"],"import React, { useState, useEffect } from \"react\";\r\nimport { Hide, View } from \"grommet-icons\";\r\nimport { login } from \"../../api/api\";\r\nimport { useRoute } from \"../../context/route\";\r\nimport \"./Login.css\";\r\n\r\nimport {\r\n  Box,\r\n  Button,\r\n  Form,\r\n  FormField,\r\n  Grommet,\r\n  MaskedInput,\r\n  TextInput,\r\n} from \"grommet\";\r\nimport { grommet } from \"grommet/themes\";\r\nimport { useAuth } from \"../../context/auth\";\r\n\r\nconst defaultValue = {\r\n  email: \"\",\r\n  password: \"\",\r\n  reveal: false,\r\n};\r\n\r\nconst Login = (props) => {\r\n  const [value, setValue] = useState(defaultValue);\r\n  const { setPage } = useRoute();\r\n  const [isError, setIsError] = useState(false);\r\n  const { setAuthTokens } = useAuth();\r\n\r\n  const handleCancel = (e) => {\r\n    setPage({\r\n      title: \"Submit Form Details\",\r\n      isAdminPage: false,\r\n      isLoggedin: false,\r\n    });\r\n    props.history.push(\"/\", {\r\n      title: \"Submit Form Details\",\r\n      isAdminPage: false,\r\n    });\r\n  };\r\n  const handleSubmit = async (e) => {\r\n    try {\r\n      const response = await login(e.value);\r\n      if (response.data) {\r\n        setAuthTokens(response.data.token);\r\n        setPage({ title: \"Users Table\", isAdminPage: true, isLoggedin: true });\r\n        props.history.push(\"/users\");\r\n      } else {\r\n        setIsError(true);\r\n        setValue(defaultValue);\r\n        setTimeout(() => {\r\n          setIsError(false);\r\n        }, 2000);\r\n      }\r\n    } catch (err) {\r\n      setIsError(true);\r\n      setValue(defaultValue);\r\n      setTimeout(() => {\r\n        setIsError(false);\r\n      }, 2000);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    setPage({ title: \"Admin Login\", isAdminPage: true, isLoggedin: false });\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"login-form\">\r\n      <Grommet theme={grommet}>\r\n        <Box fill align=\"center\" justify=\"center\">\r\n          <Box width=\"medium\">\r\n            <Form\r\n              value={value}\r\n              onChange={(nextValue) => {\r\n                setValue(nextValue);\r\n              }}\r\n              onReset={() => setValue(defaultValue)}\r\n              onSubmit={handleSubmit}\r\n            >\r\n              <FormField label=\"Email\" name=\"email\" required>\r\n                <MaskedInput\r\n                  name=\"email\"\r\n                  mask={[\r\n                    { regexp: /^[\\w\\-_.]+$/, placeholder: \"example\" },\r\n                    { fixed: \"@\" },\r\n                    { regexp: /^[\\w]+$/, placeholder: \"my\" },\r\n                    { fixed: \".\" },\r\n                    { regexp: /^[\\w]+$/, placeholder: \"com\" },\r\n                  ]}\r\n                />\r\n              </FormField>\r\n              <FormField label=\"Password\" name=\"password\">\r\n                <TextInput\r\n                  name=\"password\"\r\n                  type={value.reveal ? \"text\" : \"password\"}\r\n                />\r\n              </FormField>\r\n              {isError && (\r\n                <div className=\"error\">Invalid email or password</div>\r\n              )}\r\n              <Button\r\n                icon={\r\n                  value.reveal ? <View size=\"medium\" /> : <Hide size=\"medium\" />\r\n                }\r\n                onClick={() => setValue({ ...value, reveal: !value.reveal })}\r\n              />\r\n\r\n              <Box direction=\"row\" justify=\"between\" margin={{ top: \"medium\" }}>\r\n                <Button label=\"Cancel\" onClick={handleCancel} />\r\n                <Button type=\"submit\" label=\"Login\" primary />\r\n              </Box>\r\n            </Form>\r\n          </Box>\r\n        </Box>\r\n      </Grommet>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n","C:\\Users\\gupta\\OneDrive\\Documents\\work\\react-form\\client\\src\\api\\api.js",[],{"ruleId":"47","replacedBy":"48"},{"ruleId":"49","replacedBy":"50"},{"ruleId":"51","severity":1,"message":"52","line":67,"column":6,"nodeType":"53","endLine":67,"endColumn":8,"suggestions":"54"},"no-native-reassign",["55"],"no-negated-in-lhs",["56"],"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'setPage'. Either include it or remove the dependency array.","ArrayExpression",["57"],"no-global-assign","no-unsafe-negation",{"desc":"58","fix":"59"},"Update the dependencies array to be: [setPage]",{"range":"60","text":"61"},[1679,1681],"[setPage]"]